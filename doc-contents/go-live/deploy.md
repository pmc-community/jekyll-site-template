---
layout: page
title: Deploy
permalink: /go-live/deploy/
categories: [Start, Go live]
tags: [appearance, build, test, deploy]
parent: Go live
nav_order: 3
---

# Summary
Deploying the site means to update the production environment (such as on-prem, or Github pages or Netlify, or similar). This is the next step after building and testing the site. It is stronlgy recommended to not build the site directly in the production environment, mostly when this environment is hosted by Github pages or Netlify or similar (build time can be long and can consume CI/CD minutes for tasks that are not necessary to be executed in production environment). 

In essence, deploying means to move the assets generated by the site build process to their final destination, the place targeted by the site production URL defined as environment variable, under the key DEPLOY_PROD_BASE_URL. This final place can be on a private infrastructure/server or hosted by Github pages or Netlify or other similar hosting solutions.

The deployment process depends on the production environment option. Docaroo provides out-of-the-box actions to deploy on Github pages and on Netlify.

# Limitations

{% include elements/alert.html 
  class="warning" 
  content="Multilanguage deployment is provided out-of-the-box only for Github pages. For other types of production environment, multilanguage deployment must be handled as per the specifics of that enevironment. In essence, each language variant is a separated instance of the site, accessible under `<site_url>/<lang-code>`, thus configuring this should not raise any issue in any production environment."
  title="Multilanguage" 
%}

{% capture c %}
  {% 
    ExternalRepoContent  { 
        "markdown": true,
        "owner":"pmc-community", 
        "repo":"jekyll-site-template", 
        "branch":"gh-pages", 
        "file_path":"doc-contents/go-live/algolia-doc-search-content.md", 
        "ignore_wp_shortcodes": true, 
        "start_marker": "fullFile",
        "include_start_marker": false,
        "end_marker": "fullFile" ,
        "include_end_marker": false,
        "needAuth": false
    }
%}
{% endcapture %}
{% include elements/alert.html class="warning" content=c title="Search in docs" %}

# Environment variables
The environment variables used for the deployment process are shown next:

```yml
{% 
    ExternalRepoContent  { 
        "markdown": true,
        "owner":"pmc-community", 
        "repo":"jekyll-site-template", 
        "branch":"gh-pages", 
        "file_path":".github/workflows/deploy-site-multilang-no-py.yml", 
        "ignore_wp_shortcodes": true, 
        "start_marker": "env:",
        "include_start_marker": false,
        "end_marker": "- name:" ,
        "include_end_marker": false,
        "needAuth": false
    }
%}
```
When deploying on Github pages or Netlify, please consult the related documentation for understanding how to create the Githun repository action secrets or Netlify build environment variables.

{% capture img %}
    source="partials/media/deploy/ghp-env-var.png"|caption="Github secrets"|captionBorder="true"|imgLink="https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/use-secrets"|imgLinkNewTab="true",
    source="partials/media/deploy/netlify-env-var.png"|caption="Netlify env vars"|captionBorder="true"|imgLink="https://docs.netlify.com/build/environment-variables/overview"|imgLinkNewTab="true"
{% endcapture %}

{% include elements/image-gallery.html 
  img=img 
  border="false" 
  hg="400px"
  oneRow="all" 
%}

{% include elements/link-btn.html 
    type="warning" 
    outline="false" 
    text="Env. variables" 
    href="/get-started/env/" 
    newTab="true" 
%}

# Github pages
Deployment on Github pages is provided out-of-the-box by a deployment action. 

{% DirStructure .github/workflows %}

{% capture moments %}
    text=Check|sec=12,
    text=Generate|sec=35.8,
    text=Spelling|sec=37.2
{% endcapture %}

{% include elements/youtube.html 
    id="OzPopskhjL8" 
    width="640" 
    height="360"
%}

